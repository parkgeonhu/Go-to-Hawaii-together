!function(a){"use strict";a(document).ready(function(){a(document).on("click",".add-new-location-btn",function(b){b.stopPropagation(),b.preventDefault(),a(".add-new-location-content").toggle()}),a(document).on("click",".add-new-location-submit",function(b){b.stopPropagation(),b.preventDefault();var c=a(this),d=c.closest(".add-new-location-content").find("input").val();""!=a.trim(d)&&a.post(nooMemberL10n.ajax_url,{action:"add_new_job_location",location:d,security:nooMemberL10n.ajax_security},function(b){if(1==b.success){c.closest(".add-new-location-content").find("input").val("");var d=a("<option>");d.text(b.location_title).val(b.location_value),d.prop("selected",!0).attr("selected","selected"),c.closest(".form-group").find(".form-control-chosen").append(d),c.closest(".form-group").find(".form-control-chosen").trigger("liszt:updated"),c.closest(".form-group").find(".form-control-chosen").trigger("chosen:updated")}},"json")}),a(document).on("click",".member-register-link",function(b){b.stopPropagation(),b.preventDefault(),a(".memberModalLogin").modal("hide"),a(".memberModalRegister").modal("show")}),a(document).on("click",".member-login-link",function(b){b.stopPropagation(),b.preventDefault(),a(".memberModalLogin").modal("show"),a(".memberModalRegister").modal("hide")}),a("form.noo-ajax-login-form").on("submit",function(b){b.stopPropagation(),b.preventDefault();var c=a(this);c.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage),a.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:"noo_ajax_login",log:c.find(".log").val(),pwd:c.find(".pwd").val(),remember:c.find(".rememberme").is(":checked")?!0:!1,security:c.find(".security").val(),redirect_to:c.find(".redirect_to").length?c.find(".redirect_to").val():""},success:function(b){"object"==typeof b?(c.find(".noo-ajax-result").show().html(b.message),1==b.loggedin&&(a("body").hasClass("interim-login")?(a("body").addClass("interim-login-success"),a(".wp-auth-check-close",window.parent.document).click()):null==b.redirecturl?document.location.reload():document.location.href=b.redirecturl)):document.location.reload()},complete:function(){},error:function(){c.off("submit"),c.submit()}})}),a(".job-manage-action.action-delete").click(function(){return confirm(nooMemberL10n.confirm_delete)}),a("form.noo-ajax-register-form").on("submit",function(b){b.stopPropagation(),b.preventDefault();var c=a(this);if(c.find(".account_reg_term").length>0&&!c.find(".account_reg_term").is(":checked"))return c.find(".noo-ajax-result").hide(),alert(nooMemberL10n.confirm_not_agree_term),!1;c.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage);var d=c.serializeArray();d.push({name:"security_code",value:c.find(".security_code").data("security-code")}),a.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:d,success:function(a){"object"==typeof a?(c.find(".noo-ajax-result").show().html(a.message),1==a.success&&("undefined"!=typeof a.redirecturl&&null!=a.redirecturl?document.location.href=a.redirecturl:document.location.reload())):document.location.reload()},complete:function(){},error:function(){c.off("submit"),c.submit()}})}),a("form#candidate_profile_form").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(a,b){b.is(":radio")||b.is(":checkbox")||b.is(":file")?a.appendTo(b.parent().parent()):a.appendTo(b.parent())}}),a("form#noo-ajax-update-password").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(a,b){b.is(":radio")||b.is(":checkbox")||b.is(":file")?a.appendTo(b.parent().parent()):a.appendTo(b.parent())},submitHandler:function(b){var c=a(b);c.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage),a.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:c.serializeArray(),success:function(a){c.find(".noo-ajax-result").show().html(a.message),1==a.success&&(null==a.redirecturl?document.location.reload():document.location.href=a.redirecturl)},complete:function(){},error:function(){c.off("submit"),c.submit()}})}}),a("form#noo-ajax-update-password").on("submit",function(b){b.stopPropagation(),b.preventDefault(),a(this).validate()}),a("form#post_resume_form").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(a,b){b.is(":radio")||b.is(":checkbox")||b.is(":file")?a.appendTo(b.parent().parent()):a.appendTo(b.parent())}}),a("form#add_job_alert_form").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(a,b){b.is(":radio")||b.is(":checkbox")||b.is(":file")?a.appendTo(b.parent().parent()):a.appendTo(b.parent())}}),a(".noo-clone-fields").on("click",function(){var b=a(this),c=a(b.data("template"));return b.closest(".noo-metabox-addable").find(".noo-addable-fields").append(c),c.find(".form-control-editor").wysihtml5({"font-styles":!0,blockquote:!0,emphasis:!0,lists:!0,html:!0,link:!0,image:!0,stylesheets:[wysihtml5L10n.stylesheet_rtl]}),c.find("input:first-child").focus(),!1}),a(".noo-remove-fields").on("click",function(){var b=a(this).closest(".noo-metabox-addable").find(".noo-addable-fields .fields-group:last");return b.length&&b.remove(),!1}),a(document).on("click",".member-manage-action.approve-reject-action",function(b){b.preventDefault(),b.stopPropagation();var c=a(this);c.closest(".member-manage-table").block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.5,cursor:"wait"}}),a.post(nooMemberL10n.ajax_url,{action:"noo_approve_reject_application_modal",application_id:c.data("application-id"),hander:c.data("hander"),security:nooMemberL10n.ajax_security},function(b){if(c.closest(".member-manage-table").unblock(),b){var d=a(b);a("body").append(d),d.modal("show"),a("form#noo-ajax-approve-reject-application-form").validate({onkeyup:!1,onfocusout:!1,onclick:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(a,b){b.is(":radio")||b.is(":checkbox")||b.is(":file")?a.appendTo(b.parent().parent()):a.appendTo(b.parent())}}),d.on("hidden.bs.modal",function(){d.remove()})}})}),a("a.bookmark-job").on("click",function(){var b=a(this),c=b.hasClass("bookmarked");return a.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:b.attr("data-action"),security:b.attr("data-security"),job_id:b.attr("data-job-id")},success:function(d){a(".noo-ajax-result").show().html(d.message),1==d.success&&(c?b.removeClass("bookmarked"):b.addClass("bookmarked"),b.closest(".job-action").find(".noo-ajax-result").show().html(d.message),null==d.redirecturl||(document.location.href=d.redirecturl))},complete:function(){},error:function(){}}),!1}),a(document).on("click",".member-manage-action.view-employer-message",function(b){b.preventDefault(),b.stopPropagation();var c=a(this);c.closest(".member-manage-table").block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.5,cursor:"wait"}}),a.post(nooMemberL10n.ajax_url,{action:"noo_employer_message_application_modal",application_id:c.data("application-id"),security:nooMemberL10n.ajax_security,mode:c.data("mode")||0},function(b){if(c.closest(".member-manage-table").unblock(),b){var d=a(b);a("body").append(d),d.modal("show"),d.on("hidden.bs.modal",function(){d.remove()})}})}),a(".job-preview").find('[type="submit"]').addClass("disabled"),a(document).on("click",".job-preview",function(b){var c=a("input[name=agreement]:checked");1==c.length?a(this).find('[type="submit"]').removeClass("disabled"):a(this).find('[type="submit"]').addClass("disabled")}),a(document).on("click",".view_applications",function(b){b.preventDefault();var c=a(this).data("application-id"),d=a(this).attr("href");a.post(nooMemberL10n.ajax_url,{action:"check_view_application",application_id:c},function(a,b,c){window.location.href=d})}),a(document).on("click",".auto_create_order_free",function(b){b.preventDefault();var c=a(this).data("id"),d=a(this).data("package"),e=a(this).data("security"),f=a(this).data("url-package");a.post(nooMemberL10n.ajax_url,{action:"auto_create_order",user_id:c,package_id:d,security:e},function(a){window.location.href=f})})})}(jQuery);